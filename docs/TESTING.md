# テスト方法 (TESTING.md)

## 1. テスト概要

### 1.1 テスト種別

| 種別 | 説明 | 実施タイミング |
|------|------|---------------|
| 手動テスト | UIと機能の動作確認 | 実装完了時 |
| 互換性テスト | 様々なWebサイトでの動作確認 | リリース前 |
| 回帰テスト | 変更後の既存機能確認 | コード変更時 |

### 1.2 テスト環境

- Chrome バージョン: 88以上（最新推奨）
- OS: Windows / macOS / Linux
- テスト用Webサイト: 後述のテストページを使用

---

## 2. 手動テストケース

### 2.1 インストールテスト

#### TC-001: 拡張機能の読み込み

| 項目 | 内容 |
|------|------|
| 前提条件 | Chrome デベロッパーモードが有効 |
| 手順 | 1. `chrome://extensions/` を開く<br>2. 「パッケージ化されていない拡張機能を読み込む」をクリック<br>3. プロジェクトフォルダを選択 |
| 期待結果 | エラーなく拡張機能がリストに表示される |
| 確認ポイント | アイコン、名前、バージョンが正しい |

#### TC-002: 拡張機能の更新

| 項目 | 内容 |
|------|------|
| 前提条件 | 拡張機能がインストール済み |
| 手順 | 1. コードを変更<br>2. 拡張機能の更新ボタンをクリック |
| 期待結果 | エラーなく更新される |

---

### 2.2 Popup UIテスト

#### TC-003: Popup表示

| 項目 | 内容 |
|------|------|
| 前提条件 | 拡張機能がインストール済み |
| 手順 | 拡張機能アイコンをクリック |
| 期待結果 | Popupが表示される |
| 確認ポイント | - タイトル「Element Inspector」が表示<br>- ボタンが表示<br>- 「要素を選択してください」が表示 |

#### TC-004: ボタンテキスト切り替え

| 項目 | 内容 |
|------|------|
| 前提条件 | Popupが開いている |
| 手順 | 1. ボタンをクリック<br>2. 再度Popupを開く<br>3. ボタンをクリック |
| 期待結果 | - 初期: 「Inspectモードを開始」<br>- クリック後: 「Inspectモードを停止」<br>- 再クリック後: 「Inspectモードを開始」 |

---

### 2.3 Inspectモードテスト

#### TC-005: ホバーハイライト

| 項目 | 内容 |
|------|------|
| 前提条件 | Inspectモードが開始されている |
| 手順 | 1. ページ上の要素にマウスを移動<br>2. 別の要素に移動<br>3. 要素外に移動 |
| 期待結果 | - ホバー中の要素に青いアウトライン<br>- 移動で前の要素のハイライト解除<br>- 要素外でハイライトなし |

#### TC-006: 要素クリック選択

| 項目 | 内容 |
|------|------|
| 前提条件 | Inspectモードが開始されている |
| 手順 | 1. ページ上の要素をクリック<br>2. Popupを開く |
| 期待結果 | 選択した要素の情報が表示される |

#### TC-007: リンククリック防止

| 項目 | 内容 |
|------|------|
| 前提条件 | Inspectモードが開始されている |
| 手順 | リンク要素をクリック |
| 期待結果 | ページ遷移が発生しない |

#### TC-008: モード終了後の動作

| 項目 | 内容 |
|------|------|
| 前提条件 | Inspectモードを開始→終了 |
| 手順 | 1. リンクをクリック<br>2. 要素にホバー |
| 期待結果 | - 通常のリンク動作<br>- ハイライトなし |

---

### 2.4 要素情報表示テスト

#### TC-009: 基本要素の情報表示

| 項目 | 内容 |
|------|------|
| テスト対象 | `<div id="main" class="container active">` |
| 期待結果 | - タグ名: div<br>- ID: main<br>- クラス: container, active<br>- 子要素数: (実際の数) |

#### TC-010: ID無し要素

| 項目 | 内容 |
|------|------|
| テスト対象 | `<p class="text">` |
| 期待結果 | - タグ名: p<br>- ID: (なし または 表示なし)<br>- クラス: text |

#### TC-011: クラス無し要素

| 項目 | 内容 |
|------|------|
| テスト対象 | `<span id="label">` |
| 期待結果 | - タグ名: span<br>- ID: label<br>- クラス: (なし または 表示なし) |

#### TC-012: 属性無し要素

| 項目 | 内容 |
|------|------|
| テスト対象 | `<p>` |
| 期待結果 | - タグ名: p<br>- ID: (なし)<br>- クラス: (なし)<br>- 子要素数: 0 |

---

## 3. 互換性テスト

### 3.1 テスト対象サイト

以下のサイトで動作確認を行う:

| サイト | 特徴 | 確認ポイント |
|--------|------|-------------|
| https://example.com | シンプルなHTML | 基本動作 |
| https://google.com | 動的コンテンツ | イベント競合 |
| https://github.com | SPA | DOM更新後の動作 |
| https://yahoo.co.jp | 複雑なレイアウト | 深いネスト |
| ローカルHTMLファイル | file:// プロトコル | 権限確認 |

### 3.2 チェックリスト

各サイトで以下を確認:

- [ ] 拡張機能が有効化される
- [ ] ホバーハイライトが表示される
- [ ] クリックで要素選択できる
- [ ] 要素情報が正しく表示される
- [ ] サイトの機能に影響がない
- [ ] コンソールにエラーがない

---

## 4. テスト用HTMLファイル

プロジェクトに `test/test.html` を作成して使用:

```html
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>Element Inspector テストページ</title>
  <style>
    .container { padding: 20px; }
    .box { border: 1px solid #ccc; padding: 10px; margin: 10px 0; }
  </style>
</head>
<body>
  <h1>テストページ</h1>
  
  <!-- TC-009: 基本要素 -->
  <div id="main" class="container active">
    <p>ID・クラス両方ある要素</p>
    
    <!-- TC-010: ID無し -->
    <p class="text description">IDがない要素</p>
    
    <!-- TC-011: クラス無し -->
    <span id="label">クラスがない要素</span>
    
    <!-- TC-012: 属性無し -->
    <p>属性がない要素</p>
  </div>
  
  <!-- リンクテスト -->
  <a href="https://example.com" id="test-link">テストリンク</a>
  
  <!-- ネスト構造 -->
  <div class="box level-1">
    Level 1
    <div class="box level-2">
      Level 2
      <div class="box level-3">
        Level 3
        <span>深いネスト</span>
      </div>
    </div>
  </div>
  
  <!-- 複数クラス -->
  <div class="btn btn-primary btn-large active">複数クラス要素</div>
  
  <!-- フォーム要素 -->
  <form id="test-form">
    <input type="text" class="input" placeholder="テキスト入力">
    <button type="submit" class="btn">送信</button>
  </form>
</body>
</html>
```

---

## 5. バグ報告テンプレート

バグ発見時は以下の形式で記録:

```markdown
## バグ報告

### 概要
[バグの簡潔な説明]

### 再現手順
1. [手順1]
2. [手順2]
3. [手順3]

### 期待される動作
[本来どう動くべきか]

### 実際の動作
[実際にどう動いたか]

### 環境
- Chrome バージョン: 
- OS: 
- 拡張機能バージョン: 

### スクリーンショット
[あれば添付]

### コンソールログ
```
[エラーログがあれば貼り付け]
```
```

---

## 6. リリースチェックリスト

リリース前に全項目を確認:

### 機能テスト
- [ ] TC-001〜TC-012 すべてPASS

### 互換性テスト
- [ ] 5サイト以上で動作確認

### コード品質
- [ ] コンソールエラーなし
- [ ] console.log の削除
- [ ] 不要なコメント削除

### ドキュメント
- [ ] README更新
- [ ] バージョン番号更新

### その他
- [ ] アイコンが正しく表示
- [ ] 説明文が適切
